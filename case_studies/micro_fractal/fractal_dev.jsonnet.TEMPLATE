local libservice = import "lib/libservice.jsonnet";

import "fractal.jsonnet" {

    environments: {
        default: libservice.GcpCredentials {
            project: "verbing-noun-123",  // CHANGE ME!
            serviceAccount: import "dev_service_account_key.json",  // PROVIDE THIS FILE!
            sshUser: "someuser",  // CHANGE ME!
        }
    },

    cassandraUserPass: "xxxxxxxx",  // CHANGE ME!
    cassandraRootPass: "XXXXXXXX",  // CHANGE ME!
    dnsSuffix: "dev.yourdomain.com.",  // CHANGE ME!

    zone: self.DnsZone,

    appserv: self.AppservTemplate {
        tilegen: "tilegen",
        dnsZone: "zone",
        deployment: {
            v3: {
                deployed: [1],
                attached: [1],
            },
        }
    },

    tilegen: self.TilegenTemplate {
        dnsZone: "zone",
        deployment: {
            v4: {
                deployed: [1],
                attached: [],
            },
        }, 
    },

    db: self.DbTemplate {
        dnsZone: "zone",
    },
}
